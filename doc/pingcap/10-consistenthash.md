# 一致性哈希算法（consistent hashing）

对于分布式存储，不同机器上存储不同对象的数据，我们使用哈希函数建立从数据到服务器之间的映射关系。

一、使用简单的哈希函数

将数据通过hash函数路由到机器中，在机器变更（宕机/添加）的时候，会产生数据迁移，数据量大的事情下，
数据迁移严重拖垮机器性能。

二、一致性哈希

将数据和机器转换成key，存储在一个环形空间中，数据按照顺时针找机器存储。

添加/减少机器，按照顺时针找到最近的数据和最近的机器存储，保证数据迁移只发生在两个机器上。

2.1 存在的问题

节点数量少，存在hash倾斜问题

解决方法——虚拟节点

> 链接:
> https://zhuanlan.zhihu.com/p/129049724